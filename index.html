<!DOCTYPE html><html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëœë¤ ë‹¨ì–´ í…ŒìŠ¤íŠ¸</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9ff;
      padding: 20px;
      text-align: center;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    input, select, button {
      margin: 10px;
      padding: 10px;
      font-size: 16px;
    }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“˜ ëœë¤ ë‹¨ì–´ í…ŒìŠ¤íŠ¸</h1><div>
  <input id="wordInput" placeholder="ë‹¨ì–´ ì…ë ¥" />
  <button onclick="addWord()">ë‹¨ì–´ ì¶”ê°€</button>
</div>

<div>
  <label>ë¬¸ì œ ê°œìˆ˜: </label>
  <select id="questionCount">
    <option value="5">5</option>
    <option value="10">10</option>
    <option value="all">ì „ì²´</option>
  </select>

  <label>
    <input type="radio" name="filter" value="all" checked /> ì „ì²´ ë‹¨ì–´
  </label>
  <label>
    <input type="radio" name="filter" value="wrong" /> í‹€ë¦° ë‹¨ì–´ë§Œ
  </label>

  <button onclick="startTest()">í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
</div>

<div id="quizBox" class="hidden">
  <h2 id="quizWord"></h2>
  <input id="answerInput" placeholder="ëœ» ì…ë ¥" />
  <button onclick="checkAnswer()">ì •ë‹µ í™•ì¸</button>
  <p id="feedback"></p>
  <button onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ</button>
</div>

<div id="resultBox" class="hidden">
  <h3 id="resultText"></h3>
</div>

  </div>  <script>
    let wordList = [];
    let testList = [];
    let current = 0;
    let correct = 0;

    function fetchMeaning(word) {
      return fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`)
        .then(res => res.json())
        .then(data => {
          const meaning = data[0]?.meanings[0]?.definitions[0]?.definition || "ëœ» ì—†ìŒ";
          const example = data[0]?.meanings[0]?.definitions[0]?.example || "ì˜ˆë¬¸ ì—†ìŒ";
          return { meaning, example };
        }).catch(() => ({ meaning: "ëœ» ì—†ìŒ", example: "ì˜ˆë¬¸ ì—†ìŒ" }));
    }

    async function addWord() {
      const word = document.getElementById("wordInput").value.trim();
      if (!word) return;
      const result = await fetchMeaning(word);
      wordList.push({ word, meaning: result.meaning, example: result.example, correct: false });
      alert(`ì¶”ê°€ë¨: ${word} â†’ ${result.meaning}`);
      document.getElementById("wordInput").value = "";
    }

    function startTest() {
      const count = document.getElementById("questionCount").value;
      const filter = document.querySelector("input[name='filter']:checked").value;
      let filtered = [...wordList];

      if (filter === "wrong") filtered = filtered.filter(w => !w.correct);

      testList = filtered.sort(() => Math.random() - 0.5);
      if (count !== "all") testList = testList.slice(0, parseInt(count));

      current = 0;
      correct = 0;
      document.getElementById("quizBox").classList.remove("hidden");
      document.getElementById("resultBox").classList.add("hidden");
      nextQuestion();
    }

    function nextQuestion() {
      if (current >= testList.length) {
        document.getElementById("quizBox").classList.add("hidden");
        document.getElementById("resultBox").classList.remove("hidden");
        document.getElementById("resultText").innerText = `${testList.length}ë¬¸ì œ ì¤‘ ${correct}ê°œ ì •ë‹µ!`;
        return;
      }
      document.getElementById("quizWord").innerText = testList[current].word;
      document.getElementById("answerInput").value = "";
      document.getElementById("feedback").innerText = "";
    }

    function checkAnswer() {
      const input = document.getElementById("answerInput").value.trim();
      const answer = testList[current].meaning;
      const feedback = document.getElementById("feedback");

      if (input.toLowerCase() === answer.toLowerCase()) {
        feedback.innerText = "O ì •ë‹µì…ë‹ˆë‹¤!";
        testList[current].correct = true;
        correct++;
      } else {
        feedback.innerText = `X ì˜¤ë‹µ! ì •ë‹µ: ${answer}`;
        testList[current].correct = false;
      }
      current++;
    }
  </script></body>
</html>
